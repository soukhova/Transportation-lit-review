"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.1), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.05), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
#manually remove the 3.a, 3.b. and 4. from the figure.
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
#manually remove the 3.a, 3.b. and 4. from the figure.
df_all_sub_ob_just_reordered$sub_ob_j_f = factor(df_all_sub_ob_just_reordered$sub_ob_j, levels=c('When?','Where?','Who?\n(Population group)','Who?\n(Mode)','What?'))
#adding color column
df_all_sub_ob_just_reordered <- df_all_sub_ob_just_reordered |>
mutate(colour = c("#FCBBA1", "#FC9272", "#FB6A4A", "#EF3B2C",
"#D9D9D9", "#BDBDBD",
"#E5F5E0", "#C7E9C0", "#A1D99B", "#74C476", "#41AB5D", "#238B45",
"#F7FBFF", "#DEEBF7", "#C6DBEF", "#9ECAE1", "#6BAED6", "#4292C6", "#2171B5", "#08519C", "#08306B","#08519C",
"#FCFBFD", "#EFEDF5", "#DADAEB", "#BCBDDC", "#9E9AC8", "#807DBA", "#6A51A3", "#54278F"))
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
#manually remove the 3.a, 3.b. and 4. from the figure.
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.35))
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.35),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.35))
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.35),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.35),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.35))
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
#manually remove the 3.a, 3.b. and 4. from the figure.
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.65),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
#manually remove the 3.a, 3.b. and 4. from the figure.
df_all_sub_ob_just_reordered_plot <- ggplot(data = df_all_sub_ob_just_reordered,
aes(y = reorder(sub_ob_j_type, count),
x = count,
label = sub_ob_j_type,
fill = sub_ob_j_type))+
geom_bar(stat="identity",  col = "grey", alpha=0.8, size=0.05) +
facet_grid(rows=vars(sub_ob_j_f),
scales="free_y",
space="free_y",
switch = "y") +
scale_x_continuous(labels=scales::percent,
breaks = seq(0,0.8, by=0.2),
limits = c(0,0.67),
expand = c(0,0))+
scale_fill_manual(values= c("1992 to 2007" = "#FCBBA1",
"2008 to 2012" =  "#FC9272",
"2013 to 2017" =  "#FB6A4A",
"2017 to Mar. 2021" =  "#EF3B2C",
"Global North" =  "#D9D9D9",
"Global South" =  "#BDBDBD",
"(Dis)Abilities" =  "#DEEBF7",
"Age" =  "#6BAED6",
"All populations" =  "#F7FBFF",
"Composite vulnerability" =  "#C6DBEF",
"Education level" =  "#6BAED6",
"Employment (Pop. group)" =  "#9ECAE1",
"Gender" =  "#DEEBF7",
"Income" =  "#4292C6",
"Other (Pop. group)" =  "#9ECAE1",
"Race/Ethnicity" =  "#C6DBEF",
"Bicycle" =  "#A1D99B",
"Car" =  "#74C476",
"Other (Mode)" =  "#E5F5E0",
"Pedestrian" =  "#41AB5D",
"Transit" =  "#238B45",
"Unspecified (Mode)" =  "#C7E9C0",
"Childcare" =  "#BCBDDC",
"Community" =  "#DADAEB",
"Education" =  "#EFEDF5",
"Employment (What?)" =  "#9E9AC8",
"Healthcare" =  "#807DBA",
"Leisure" =  "#DADAEB",
"Shops" =  "#BCBDDC",
"Unspecified (What?)" =  "#6A51A3")) +
#c(rep(RColorBrewer::brewer.pal(9,"Pastel2"),4))) +
geom_text(size = 2.5, position = position_stack(vjust = 1.02), col = "Black") +
theme_classic() +
theme(strip.text.y = element_text(size = 5),
strip.background.y = element_rect(fill = "lightgrey", linewidth=0.3),
strip.placement = "inside",
axis.title = element_blank(),
axis.ticks.y=element_blank(),
axis.text.y=element_blank(),
axis.text.x=element_text(size=7),
axis.line = element_line(linewidth=0.3),
legend.position = "none",
panel.grid.major.x = element_line(colour="grey", linewidth=0.3))
df_all_sub_ob_just_reordered_plot
ggsave("figures/df_all_sub_ob_just_reordered_plot.tiff", dpi=300)
